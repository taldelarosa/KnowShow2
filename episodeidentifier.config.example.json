{
  // EpisodeIdentifier Configuration File
  // This file controls the behavior of episode identification and bulk processing operations
  
  "version": "2.0",
  
  // Concurrency Configuration
  // maxConcurrency: Maximum number of concurrent operations during bulk processing
  // Valid range: 1-100
  // - 1: Sequential processing (safest, slower)
  // - 3-5: Moderate concurrency (good balance for most systems)
  // - 10+: High concurrency (faster on powerful systems, may strain I/O)
  // Default: 1 (if not specified or invalid)
  // Hot-reloadable: Configuration changes apply to new bulk operations
  "maxConcurrency": 3,
  
  // Matching Thresholds by Subtitle Type
  // Different subtitle types have different OCR accuracy, so thresholds can be adjusted independently
  "matchingThresholds": {
    // Text-based subtitles (SRT, ASS, WebVTT) - Most accurate, highest thresholds
    "textBased": {
      "matchConfidence": 0.7,      // Minimum confidence (0.0-1.0) to report a match
      "renameConfidence": 0.8,     // Minimum confidence to auto-rename (must be >= matchConfidence)
      "fuzzyHashSimilarity": 70    // CTPH similarity threshold (0-100) - higher = stricter matching
    },
    // PGS (Presentation Graphic Stream) subtitles - OCR required, moderate accuracy
    "pgs": {
      "matchConfidence": 0.6,      // Lower threshold to account for OCR errors
      "renameConfidence": 0.7,
      "fuzzyHashSimilarity": 60
    },
    // DVD/VobSub subtitles - OCR required, lower accuracy
    "vobSub": {
      "matchConfidence": 0.5,      // Lowest threshold due to OCR quality
      "renameConfidence": 0.6,
      "fuzzyHashSimilarity": 50
    }
  },
  
  // TextRank-Based Filtering (Feature 014)
  // Extracts plot-relevant sentences before embedding generation to improve matching accuracy
  // Best for verbose subtitles with conversational filler
  "textRankFiltering": {
    "enabled": false,                 // Enable/disable TextRank filtering (default: false, opt-in feature)
    "sentencePercentage": 25,         // Percentage of sentences to select (10-50%, default: 25%)
    "minSentences": 15,               // Absolute minimum sentences required (5-100, default: 15)
    "minPercentage": 10,              // Minimum percentage to retain (5-50%, default: 10%)
    "dampingFactor": 0.85,            // PageRank damping factor (0.5-0.95, default: 0.85)
    "convergenceThreshold": 0.0001,   // PageRank convergence threshold (0.00001-0.01, default: 0.0001)
    "maxIterations": 100,             // Maximum PageRank iterations (10-500, default: 100)
    "similarityThreshold": 0.1        // Minimum sentence similarity for graph edges (0.0-0.5, default: 0.1)
  },
  
  // hashingAlgorithm: Algorithm used for content hashing (CTPH recommended)
  "hashingAlgorithm": "CTPH",
  
  // Filename Pattern Matching
  // Regex patterns for extracting series/season/episode information from filenames
  // Patterns are tried in order until a match is found. You can add as many as needed.
  // Each pattern must use named capture groups: SeriesName, Season, Episode (EpisodeName is optional)
  "filenamePatterns": {
    "patterns": [
      // Space or dot before S##E## - handles "Show Name S01E01" and "Show.Name.S01E01.WEB.x264-GROUP"
      "^(?<SeriesName>.+?)[\\s\\.]S(?<Season>\\d+)E(?<Episode>\\d+)[A-Za-z]?(?:E\\d+[A-Za-z]?)*(?:[\\s\\.\\-]+(?<EpisodeName>.+?))?$",
      
      // Space before season x episode - handles "Show Name 1x01 Episode Title"
      "^(?<SeriesName>.+?)\\s(?<Season>\\d+)x(?<Episode>\\d+)[A-Za-z]?(?:x\\d+[A-Za-z]?)*(?:[\\s\\.\\-]+(?<EpisodeName>.+?))?$",
      
      // Dot-separated S##.E## - handles "Show.Name.S01.E01.Episode.Title"
      "^(?<SeriesName>.+?)\\.S(?<Season>\\d+)\\.E(?<Episode>\\d+)[A-Za-z]?(?:\\.E\\d+[A-Za-z]?)*(?:\\.(?<EpisodeName>.+?))?$",
      
      // Hyphen-separated - handles "Show-Name-S01E01"
      "^(?<SeriesName>.+?)-S(?<Season>\\d+)E(?<Episode>\\d+)[A-Za-z]?(?:E\\d+[A-Za-z]?)*(?:[\\s\\.\\-]+(?<EpisodeName>.+?))?$",
      
      // Underscore-separated - handles "Show_Name_S01E01"
      "^(?<SeriesName>.+?)_S(?<Season>\\d+)E(?<Episode>\\d+)[A-Za-z]?(?:E\\d+[A-Za-z]?)*(?:[\\s\\.\\-_]+(?<EpisodeName>.+?))?$"
    ]
  },
  
  // Filename Template for Renaming
  // Template used when --rename option generates new filenames
  // Available placeholders: {SeriesName}, {Season}, {Episode}, {EpisodeName}, {FileExtension}
  // Format specifiers: {Season:D2} = zero-padded 2 digits, {Episode:D2} = zero-padded 2 digits
  "filenameTemplate": "{SeriesName} - S{Season:D2}E{Episode:D2} - {EpisodeName}{FileExtension}"
}